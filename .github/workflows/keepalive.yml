name: Keep Render Awake

on:
  schedule:
    - cron: "*/9 * * * *"
  workflow_dispatch: {}

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping backend twice per run (â‰ˆ4.5 min apart)
        shell: bash
        run: |
          set -e
          for i in 1 2; do
            curl -sS -m 15 https://amazon-marketing-streams.onrender.com/health || true
            curl -sS -m 15 https://amazon-marketing-streams.onrender.com/ || true
            if [[ $i -eq 1 ]]; then
              sleep 270
            fi
          done

